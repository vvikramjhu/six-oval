<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapping PUBLIC "-//EXOLAB/Castor Mapping DTD Version 1.0//EN"
                         "http://castor.org/mapping.dtd">

<!-- /////////////////////////////////////////////////////////// -->
<!-- // Project SIX: OVAL                                     // -->
<!-- //                                                       // -->
<!-- // Castor JDO Mapping Specification                      // -->
<!-- /////////////////////////////////////////////////////////// -->

<!-- @author    Akihito Nakamura, AIST -->
<!-- @version   $Id$ -->
<!-- @oval-schema version 5 -->

<mapping>

    <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
    <!-- %                                                     % -->
    <!-- %  OVAL definitions                                   % -->
    <!-- %                                                     % -->
    <!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
    
    <!-- ******************************************************* -->
    <!-- OvalDefinitions                                         -->
    <!-- ******************************************************* -->
    <class name="jp.go.aist.six.oval.model.v5.definitions.OvalDefinitions"
        identity="persistentID">
        <map-to table="oval_d_definitions"/>

        <field name="persistentID" type="string">
            <sql name="PID" type="char"/>
        </field>

        <field name="generator.timestamp" type="string">
            <sql name="gen_timestamp" type="char"/>
        </field>
<!-- date
        <field name="generator.timestamp" type="date">
            <sql name="gen_timestamp" type="timestamp"/>
        </field>
-->

        <field name="generator.schemaVersion" type="string">
            <sql name="gen_schema_version" type="char"/>
        </field>

        <field name="generator.productName" type="string">
            <sql name="gen_product_name" type="char"/>
        </field>

        <field name="generator.productVersion" type="string">
            <sql name="gen_product_version" type="char"/>
        </field>

        <field name="definitionsDigest" type="string">
            <sql name="definitions_digest" type="char"/>
        </field>

        <!-- m : n -->
<!--
        <field name="definitions.definition"
            type="jp.go.aist.six.oval.core.store.PersistentDefinition"
            collection="collection"
            lazy="true">
            <sql name="d_definition__PID"
                many-table="oval_assoc__d_definitions__d_definition"
                many-key="d_definitions__PID"/>
        </field>
-->

        <!-- m : n 
        <field name="tests.test"
            type="jp.go.aist.six.oval.model.definitions.Test"
            collection="collection"
            lazy="true">
            <sql name="d_test__PID"
                many-table="oval_assoc__d_definitions__d_test"
                many-key="d_definitions__PID"/>
        </field>
-->

        <!-- m : n 
        <field name="objects.object"
            type="jp.go.aist.six.oval.model.definitions.SystemObject"
            collection="collection"
            lazy="true">
            <sql name="d_object__PID"
                many-table="oval_assoc__d_definitions__d_object"
                many-key="d_definitions__PID"/>
        </field>
-->

        <!-- m : n 
        <field name="states.state"
            type="jp.go.aist.six.oval.model.definitions.State"
            collection="collection"
            lazy="true">
            <sql name="d_state__PID"
                many-table="oval_assoc__d_definitions__d_state"
                many-key="d_definitions__PID"/>
        </field>
-->

        <!-- m : n 
        <field name="variables.variable"
            type="jp.go.aist.six.oval.model.definitions.Variable"
            collection="collection"
            lazy="true">
            <sql name="d_variable__PID"
                many-table="oval_assoc__d_definitions__d_variable"
                many-key="d_definitions__PID"/>
        </field>
-->
    </class>




</mapping>
